<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß≠ GPS –ó–µ–º–ª–µ–º–µ—Ä - –ù–∞–≤–∏–≥–∞—Ü–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            padding: 20px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .card {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .link-button {
            display: block;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
            font-weight: 500;
            text-align: center;
            margin: 10px 0;
            transition: all 0.2s ease;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .link-button:hover, .link-button:active {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(0.98);
        }
        
        .link-button.primary {
            background: linear-gradient(45deg, #28a745, #20c997);
            border: none;
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
        }
        
        .link-button.secondary {
            background: linear-gradient(45deg, #007bff, #6610f2);
            border: none;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
        }
        
        .link-button.warning {
            background: linear-gradient(45deg, #ffc107, #fd7e14);
            border: none;
            color: #212529;
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.3);
        }
        
        .info {
            background: rgba(0, 123, 255, 0.2);
            border: 1px solid rgba(0, 123, 255, 0.5);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 14px;
        }
        
        .test-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            margin: 5px;
        }
        
        .test-results {
            background: rgba(0, 0, 0, 0.2);
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß≠ GPS –ó–µ–º–ª–µ–º–µ—Ä</h1>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ -->
        <div class="card">
            <h3>üì± –ú–æ–±–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏:</h3>
            
            <a href="mobile-gps-legacy.html" class="link-button primary">
                üîß Legacy –≤–µ—Ä—Å–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
                <br><small>–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ HTTPS, IP + GPS</small>
            </a>
            
            <a href="mobile-gps-fixed.html" class="link-button secondary">
                üéØ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è
                <br><small>–¢—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è GPS</small>
            </a>
            
            <a href="mobile-gps.html" class="link-button warning">
                üì° –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
                <br><small>–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å)</small>
            </a>
        </div>
        
        <!-- React –≤–µ—Ä—Å–∏—è -->
        <div class="card">
            <h3>üíª React –≤–µ—Ä—Å–∏—è (–¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞):</h3>
            
            <a href="/" class="link-button">
                üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ React
            </a>
        </div>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="info">
            <strong>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong><br>
            ‚Ä¢ –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>Legacy –≤–µ—Ä—Å–∏—é</strong><br>
            ‚Ä¢ –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>React –≤–µ—Ä—Å–∏—é</strong><br>
            ‚Ä¢ –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å GPS: –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ
        </div>
        
        <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
        <div class="card">
            <h3>üîç –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:</h3>
            
            <button class="test-button" onclick="testConnection()">üß™ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</button>
            <button class="test-button" onclick="testGPS()">üì° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GPS</button>
            <button class="test-button" onclick="testIP()">üåê –ü—Ä–æ–≤–µ—Ä–∏—Ç—å IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é</button>
            
            <div id="testResults" class="test-results">
                üìù –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...
            </div>
        </div>
        
        <!-- –ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="card">
            <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ:</h3>
            <div id="serverInfo" style="font-family: 'Courier New', monospace; font-size: 12px;">
                –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é...
            </div>
        </div>
    </div>

    <script>
        let testMessages = [];
        
        function addTestMessage(message) {
            const timestamp = new Date().toLocaleTimeString();
            testMessages.push(`[${timestamp}] ${message}`);
            if (testMessages.length > 20) {
                testMessages.shift();
            }
            document.getElementById('testResults').innerHTML = testMessages.join('<br>');
        }
        
        // –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
        async function testConnection() {
            addTestMessage('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É...');
            
            try {
                const response = await fetch(window.location.origin);
                if (response.ok) {
                    addTestMessage('‚úÖ –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω: ' + response.status);
                } else {
                    addTestMessage('‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏–ª —Å –æ—à–∏–±–∫–æ–π: ' + response.status);
                }
            } catch (error) {
                addTestMessage('‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ' + error.message);
            }
        }
        
        // –¢–µ—Å—Ç GPS
        function testGPS() {
            addTestMessage('üì° –¢–µ—Å—Ç–∏—Ä—É–µ–º GPS...');
            
            if (!navigator.geolocation) {
                addTestMessage('‚ùå GPS –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º');
                return;
            }
            
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const { latitude, longitude, accuracy } = position.coords;
                    addTestMessage(`‚úÖ GPS —Ä–∞–±–æ—Ç–∞–µ—Ç: ${latitude.toFixed(6)}, ${longitude.toFixed(6)} (¬±${accuracy.toFixed(0)}–º)`);
                },
                (error) => {
                    addTestMessage(`‚ùå GPS –æ—à–∏–±–∫–∞: ${error.message} (–∫–æ–¥: ${error.code})`);
                },
                { enableHighAccuracy: false, timeout: 10000, maximumAge: 300000 }
            );
        }
        
        // –¢–µ—Å—Ç IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
        async function testIP() {
            addTestMessage('üåê –¢–µ—Å—Ç–∏—Ä—É–µ–º IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é...');
            
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                
                if (data.latitude && data.longitude) {
                    addTestMessage(`‚úÖ IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç: ${data.city}, ${data.country} (${data.latitude}, ${data.longitude})`);
                } else {
                    addTestMessage('‚ö†Ô∏è IP API –Ω–µ –≤–µ—Ä–Ω—É–ª –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã');
                }
            } catch (error) {
                addTestMessage('‚ùå IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞: ' + error.message);
            }
        }
        
        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä–≤–µ—Ä–µ
        function getServerInfo() {
            const info = [
                `üåê URL: ${window.location.href}`,
                `üñ•Ô∏è –•–æ—Å—Ç: ${window.location.hostname}`,
                `üîå –ü–æ—Ä—Ç: ${window.location.port || '80'}`,
                `üîí –ü—Ä–æ—Ç–æ–∫–æ–ª: ${window.location.protocol}`,
                `üì± User Agent: ${navigator.userAgent.substring(0, 80)}...`,
                `üó∫Ô∏è –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è: ${navigator.geolocation ? '–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è' : '–ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è'}`,
                `üì≥ –í–∏–±—Ä–∞—Ü–∏—è: ${navigator.vibrate ? '–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è' : '–ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è'}`,
                `‚è∞ –í—Ä–µ–º—è: ${new Date().toLocaleString()}`
            ];
            
            document.getElementById('serverInfo').innerHTML = info.join('<br>');
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.addEventListener('load', () => {
            addTestMessage('üöÄ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            getServerInfo();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
            setTimeout(testConnection, 1000);
        });
    </script>
</body>
</html>
